function initArchive(){const{ajaxUrl:e,nonce:t}=archiveData,r=document.querySelector(".archive__items"),a=document.querySelector(".archive__load-more"),c=a.querySelector("button");function n(n){let o;o=n?0:r.dataset.page;const i={action:"archive",paged:o,transactionType:document.querySelector('select[name="transaction_type"]').value,propertyType:document.querySelector('select[name="property_type"]').value,propertyCity:document.querySelector('select[name="property_city"]').value,priceMin:document.querySelector('input[name="property_price_min"]').value,priceMax:document.querySelector('input[name="property_price_max"]').value,nonce:t};n||c.classList.add("loading"),r.classList.add("loading"),fetch(e,{method:"POST",body:new URLSearchParams(i).toString(),headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((e=>e.json())).then((e=>{n&&r.querySelectorAll(".card-property").forEach((e=>{e.remove()})),a.insertAdjacentHTML("beforebegin",e.posts),project.onScroll(),e.page===e.maxPage?a.classList.add("hidden"):e.maxPage>1&&(a.classList.remove("hidden"),r.dataset.page=e.page),r.classList.remove("loading"),c.classList.remove("loading")}))}c.addEventListener("click",(()=>{n(!1)})),document.querySelectorAll("input").forEach((e=>{e.addEventListener("change",(()=>{n(!0)}))})),jQuery("select").on("select2:select",(()=>{n(!0)}))}initArchive(),jQuery("select").select2({minimumResultsForSearch:1/0});